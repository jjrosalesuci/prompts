Write unit tests for this function.

Cover the happy path and at least two edge cases